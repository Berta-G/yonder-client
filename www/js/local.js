// Generated by CoffeeScript 1.7.1
var fillBucket, getBucket, onDeviceReady, onLoad;

angular.module('scupr', ['ionic']);

onLoad = function() {
  alert("Device Loading");
  return document.addEventListener("deviceready", onDeviceReady, false);
};

onDeviceReady = function() {
  alert("Device Ready");
  return getBucket();
};

getBucket = function() {
  alert("get bucket!");
  return $.get("http://localhost:3000/ads", function(data) {
    return fillBucket(data);
  });
};

fillBucket = function(data) {
  var source, template;
  alert("fill bucket!");
  console.log(data);
  source = $("#bucket-template").html();
  console.log(source);
  template = Handlebars.compile(source);
  console.log(template);
  return $('#bucket').html(template(data));
};

Handlebars.registerHelper('createBucket', function(ad) {
  console.log(ad);
  return new Handlebars.SafeString("<a class='item item-thumbnail-left' href= \"#\">\n    <img src= \"http://localhost:3000" + ad.bucket_image + "\"/>\n    <h2>" + ad.business_name + "</h2>\n    <p>" + ad.caption + "</p>\n  </a>");
});
